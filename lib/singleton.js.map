{"version":3,"sources":["../src/singleton.js"],"names":["singleton","Target","dom","instance","show","option","document","createElement","body","appendChild","hide","prototype"],"mappings":";;;;;kBAGwBA,S;;AAHxB;;;;AACA;;;;AAEe,SAASA,SAAT,CAAmBC,MAAnB,EAA2B;AACtC,QAAIC,YAAJ;AACA,QAAIC,iBAAJ;;AAEA,QAAMC,OAAQ,SAARA,IAAQ,GAAiB;AAAA,YAAhBC,MAAgB,uEAAP,EAAO;;AAC3B,YAAG,CAACH,GAAJ,EAAS;AACLA,kBAAMI,SAASC,aAAT,CAAuB,KAAvB,CAAN;AACAD,qBAASE,IAAT,CAAcC,WAAd,CAA0BP,GAA1B;AACH;AACDC,mBAAW,sBAAO,8BAAC,MAAD,EAAYE,MAAZ,CAAP,EAA+BH,GAA/B,CAAX;AACH,KAND;;AAQA,QAAMQ,OAAO,SAAPA,IAAO,GAAM;AACf,YAAIR,GAAJ,EAAS;AACP,kDAAuBA,GAAvB;AACA;AACD;AACJ,KALD;;AAOAD,WAAOU,SAAP,CAAiBP,IAAjB,GAAwBA,IAAxB;AACAH,WAAOU,SAAP,CAAiBD,IAAjB,GAAwBA,IAAxB;;AAEAT,WAAOG,IAAP,GAAcA,IAAd;AACAH,WAAOS,IAAP,GAAcA,IAAd;AACH","file":"singleton.js","sourcesContent":["import React from 'react';\nimport { render, unmountComponentAtNode } from 'react-dom';\n\nexport default function singleton(Target) {\n    let dom;\n    let instance;\n\n    const show  = (option = {}) => {\n        if(!dom) {\n            dom = document.createElement('div');\n            document.body.appendChild(dom);\n        }\n        instance = render(<Target {...option} />, dom);\n    }\n\n    const hide = () => {\n        if (dom) {\n          unmountComponentAtNode(dom);\n          // instance = null;\n        }\n    }\n\n    Target.prototype.show = show;\n    Target.prototype.hide = hide;\n\n    Target.show = show;\n    Target.hide = hide;\n}\n"]}